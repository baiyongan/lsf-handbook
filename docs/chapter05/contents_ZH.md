# 目录

!!! error
    太 TM 多了，待更新！

## 集群管理要点
- [ ] 使用您的集群
    - [ ] 查看集群信息
    - [ ] 控制守护进程
        - [ ] 控制 mbatchd
        - [ ] LSF 守护进程启动控制
            - [ ] 概述
            - [ ] 配置使能
            - [ ] LSF 守护进程启动控制行为
            - [ ] 要修改的配置
            - [ ] 命令
    - [ ] 重新配置集群的命令
        - [ ] 使用 lsadmin 和 badmin 命令重新配置
        - [ ] 通过重启 mbatchd 守护进程重新配置
        - [ ] 查看配置错误
    - [ ] 实时重构
        - [ ] bconf 命令鉴权
        - [ ] 启用实时重构
        - [ ] 添加用户共享到 fairshare 队列
        - [ ] 查看 bconf 记录
        - [ ] 合并配置文件
    - [ ] 添加集群管理员
- [ ] 操作主机
    - [ ] 主机状态
    - [ ] 查看主机信息
        - [ ] 自定义主机信息输出
        - [ ] 自定义主机负载信息输出
    - [ ] 控制主机
    - [ ] 连接到执行主机或容器
    - [ ] 主机名
        - [ ] 有多个地址的主机
        - [ ] 使用 IPv6 地址
        - [ ] 使用浓缩符号指定主机名
- [ ] 作业目录和数据
    - [ ] 作业输出目录
    - [ ] 指定作业输出目录
    - [ ] 临时作业目录
    - [ ] 关于弹性作业 CWD
    - [ ] 关于灵活作业输出目录
- [ ] 作业通知
    - [ ] 禁用作业邮件
    - [ ] 作业邮件的大小

## 监视集群操作和运行状况
- [ ] 监控集群性能
    - [ ] 实时监控性能指标
    - [ ] 诊断查询请求
    - [ ] 诊断调度桶 (scheduler buckets)
    - [ ] 监控调度程序的效率和开销
- [ ] 监控作业信息
    - [ ] 查看主机级和队列级的挂起条件
    - [ ] 查看作业级暂停条件
    - [ ] 查看恢复阈值
    - [ ] 查看作业优先级信息
    - [ ] 查看作业依赖关系
    - [ ] 查看回填作业信息
        - [ ] 查看作业的开始时间信息
        - [ ] 查看可中断回填作业 (bjobs 和 bhist) 的运行限制
        - [ ] 显示回填作业的可用槽位
    - [ ] 查看作业数组 (job array) 信息
    - [ ] 查看预留槽位信息
        - [ ] 查看已配置的作业槽位共享
        - [ ] 查看运行作业的槽位分配情况
- [ ] 通过使用外部脚本监控应用程序
    - [ ] 创建外部脚本
    - [ ] 配置应用配置文件
    - [ ] 使用应用配置文件
- [ ] 查看资源信息
    - [ ] 查看作业级资源需求
    - [ ] 查看队列级资源需求
    - [ ] 查看主机共享资源
    - [ ] 查看主机负载情况
    - [ ] 查看作业资源使用情况
    - [ ] 查看集群资源 (lsinfo)
    - [ ] 查看主机资源 (lshosts)
        - [ ] 查看主机的资源负载 (lshosts -s)
        - [ ] 自定义主机资源信息输出
    - [ ] 查看资源预留信息
        - [ ] 查看主机级资源信息 (bhosts)
        - [ ] 查看队列级资源信息 (bqueues)
        - [ ] 查看为挂起的作业预留的内存 (bjobs)
        - [ ] 查看每个资源的预留 (bresources)
    - [ ] 查看资源分配限制信息
    - [ ] 查看应用配置文件信息
        - [ ] 查看可用的应用配置文件
    - [ ] 查看 fairshare 信息
        - [ ] 查看队列级 fairshare 信息
        - [ ] 查看跨队列 fairshare 信息
        - [ ] 查看组的分级共享信息
        - [ ] 查看主机分区的分级共享信息
        - [ ] 查看主机分区信息
    - [ ] 查看 SLAs 和服务分类信息
        - [ ] 监控 SLA
    - [ ] 查看已配置的保证资源池
        - [ ] 查看保证策略信息
- [ ] 查看用户和用户组信息
    - [ ] 查看用户信息
    - [ ] 查看用户等待作业的阈值信息
    - [ ] 自定义用户信息输出
    - [ ] 查看用户组信息
    - [ ] 查看用户共享信息
    - [ ] 查看用户组管理信息
- [ ] 查看队列信息
    - [ ] 队列状态
    - [ ] 查看可用队列和队列状态
    - [ ] 查看队列详细信息
    - [ ] 自定义队列信息输出
    - [ ] 查看队列的状态变化历史
    - [ ] 查看队列管理员
    - [ ] 查看队列异常状态 (bqueues)

## 管理作业的执行
- [ ] 管理作业执行
    - [ ] 关于作业状态
    - [ ] 查看作业信息
        - [ ] 查看所有用户的所有作业
        - [ ] 查看作业 ID
        - [ ] 查看指定用户的作业
        - [ ] 查看正在运行的作业
        - [ ] 查看已完成的作业
        - [ ] 查看排队作业的信息
        - [ ] 查看作业的暂停原因
        - [ ] 查看执行后状态
        - [ ] 查看作业异常状态 (bjobs)
        - [ ] 查看未完成作业汇总信息
        - [ ] 查看作业提交环境
        - [ ] 自定义输出作业信息
    - [ ] 强制作业执行
        - [ ] 强制一个排队的作业运行
    - [ ] 暂停和恢复作业
        - [ ] 暂停作业
        - [ ] 恢复作业
    - [ ] 结束作业
        - [ ] 结束一个作业
        - [ ] 结束多个作业
        - [ ] 按作业状态结束作业
        - [ ] 结束作业并记录为 DONE
        - [ ] 强制从 LSF 移除一个作业
        - [ ] 从 LSF 中移除挂住的作业
        - [ ] 孤儿作业的终止
    - [ ] 向作业发送信号
        - [ ] 不同平台的信号
        - [ ] 向作业发送信号
    - [ ] 数据来源
        - [ ] 前提条件
        - [ ] 使用数据来源工具
- [ ] 作业文件假脱机 (spooling)
    - [ ] 作业输入、输出和命令文件的文件假脱机
        - [ ] 指定作业输入文件
        - [ ] 更改作业输入文件
    - [ ] 作业假脱机目录 (JOB_SPOOL_DIR)
    - [ ] 指定作业命令文件 (bsub -Zs)
    - [ ] 使用非共享文件空间进行远程文件访问
        - [ ] 将文件从提交主机复制到执行主机
        - [ ] 指定输入文件
        - [ ] 将输出文件复制回提交主机
    - [ ] 作业提交选项文件
        - [ ] 指定 JSON 文件
        - [ ] 指定 YAML 文件
        - [ ] 指定 JSDL 文件
- [ ] 作业数据管理
    - [ ] 复制文件到远程主机 (bsub -f)
    - [ ] 使用 LSF Data Manager 进行数据暂存 (data staging)
    - [ ] 使用直接数据暂存 (bsub -stage)
        - [ ] 配置直接数据暂存
        - [ ] 提交并运行直接数据暂存作业
- [ ] 作业调度与分配
    - [ ] 使用排他调度
        - [ ] 配置排他队列
        - [ ] 配置主机一次只运行一个作业
        - [ ] 提交一个独占作业
        - [ ] 配置计算单元独占队列
        - [ ] 提交计算单元独占作业
    - [ ] 作业依赖和作业优先级
        - [ ] 作业依赖调度
            - [ ] 作业依赖术语
            - [ ] 依赖条件
        - [ ] 作业优先级
            - [ ] 用户分配的作业优先级
                - [ ] 配置作业优先级
                - [ ] 指定作业优先级
            - [ ] 自动升级作业优先级
                - [ ] 配置作业优先级升级
            - [ ] 绝对优先级调度
                - [ ] 启用绝对优先级调度
                - [ ] 修改系统 APS 值 (bmod)
                - [ ] 配置跨多队列 APS
                - [ ] 作业优先级行为
    - [ ] 作业请求 (requeue) 和作业重新运行
        - [ ] 关于作业请求
            - [ ] 自动作业请求
                - [ ] 配置自动作业请求
            - [ ] 作业级自动请求
            - [ ] 配置反向请求
            - [ ] 独占作业请求
                - [ ] 配置排他性作业请求
            - [ ] 请求作业
        - [ ] 自动重新运行作业
            - [ ] 配置重新运行队列级作业
            - [ ] 提交一个可重新运行的作业
            - [ ] 提交一个不可重新运行的作业
            - [ ] 为可重新运行的作业禁用执行后功能
    - [ ] 作业开始时间预测
    - [ ] 基于主机属性的作业亲和性调度
        - [ ] 配置主机属性
        - [ ] 管理主机属性
        - [ ] 提交具有属性关联的作业
- [ ] 控制作业执行
    - [ ] 预处理和后处理
        - [ ] 关于预处理和后处理
        - [ ] 配置启用预处理和后处理
        - [ ] 预处理与后处理的行为
            - [ ] 检查预处理脚本失败的作业历史
        - [ ] 修改预处理和后处理的配置
            - [ ] 设置基于作业的预处理脚本的主机排除
        - [ ] 预处理和后处理命令
    - [ ] 作业启动器 (job starters)
        - [ ] 关于作业启动器
        - [ ] 命令级作业启动器
        - [ ] 队列级作业启动器
            - [ ] 配置队列级作业启动器
            - [ ] JOB_STARTER 参数 (lsb.queues)
        - [ ] 使用作业启动器控制执行环境
    - [ ] 作业控制动作
    - [ ] 以其他用户身份提交作业
    - [ ] 外部作业提交和执行控制
        - [ ] 作业提交和执行控制
        - [ ] 配置启用作业提交和执行控制
        - [ ] 作业提交和执行控制行为
        - [ ] 修改作业提交和执行控制的配置
        - [ ] 作业提交和执行控制命令
        - [ ] 作业提交和执行控制的命令参数
- [ ] 交互式作业和远程任务
    - [ ] 通过 bsub 的交互式作业
        - [ ] 关于交互式作业
        - [ ] 提交交互式作业
            - [ ] 提交一个交互式作业
            - [ ] 通过伪终端提交一个交互作业
            - [ ] 提交交互式作业并将流重定向到文件
            - [ ] 提交交互作业，将流重定向到文件，并显示流
        - [ ] 交互式批处理作业的性能调优
        - [ ] 交互批处理作业消息 (messaging)
            - [ ] 配置交互批处理作业消息
            - [ ] 示例消息
        - [ ] 使用 bsub 运行 X 应用程序 (X applications)
        - [ ] 配置作业的 SSH X11 转发
        - [ ] 编写作业脚本
        - [ ] 为交互式批处理作业注册 utmp 文件项
    - [ ] 交互和远程任务
        - [ ] 运行远程任务
            - [ ] 在可用的最佳主机上运行任务
            - [ ] 在指定资源的主机上运行任务
                - [ ] 资源使用情况
            - [ ] 在指定主机上运行任务
            - [ ] 使用伪终端运行任务
            - [ ] 在多台主机上顺序运行相同的任务
            - [ ] 运行并行任务
            - [ ] 在由文件指定的主机上运行任务
        - [ ] 交互任务
            - [ ] 重定向流到文件
        - [ ] 负载共享交互会话
            - [ ] 登录到负载最小的主机
            - [ ] 登录到具有指定资源的主机


## 配置和共享作业资源
- [ ] About LSF resources
    - [ ] Resource categories
    - [ ] How LSF uses resources
- [ ] Representing job resources in LSF
    - [ ] Batch built-in resources
    - [ ] Static resources
        - [ ] How LIM detects cores, threads, and processors
        - [ ] Define ncpus—processors, cores, or threads
        - [ ] Define computation of ncpus on dynamic hosts
        - [ ] Define computation of ncpus on static hosts
    - [ ] Load indices
    - [ ] About configured resources
        - [ ] Add new resources to your cluster
        - [ ] Configure the lsf.shared resource section
        - [ ] Configure lsf.cluster.cluster_name Host section
        - [ ] Configure lsf.cluster.cluster_name ResourceMap section
        - [ ] Reserve a static shared resource
        - [ ] External load indices
            - [ ] About external load indices
            - [ ] Configuration to enable external load indices
                - [ ] Define a dynamic external resource
                - [ ] Map an external resource
                - [ ] Create an elim executable file
                - [ ] Overriding built-in load indices
                - [ ] Setting up an ELIM to support JSDL
                - [ ] Example of an elim executable file
            - [ ] External load indices behavior
            - [ ] Configuration to modify external load indices
            - [ ] External load indices commands
        - [ ] External static load indices
            - [ ] Configuration to enable external static load indices
            - [ ] Create eslim executable files
            - [ ] Example of an eslim executable file
        - [ ] Modify a built-in load index
    - [ ] Configure host resources
        - [ ] Adding a host to your cluster
            - [ ] Add hosts dynamically
                - [ ] Configuring and running batch jobs on dynamic hosts
                - [ ] Change a dynamic host to a static host
                - [ ] Add a dynamic host in a shared file system environment
                - [ ] Add a dynamic host in a non-shared file system environment
            - [ ] Add a host to the cluster using bconf
        - [ ] Removing a host from your cluster
            - [ ] Remove a host from management candidate list
            - [ ] Remove dynamic hosts
    - [ ] Share resources in queues
        - [ ] Controlling queues
            - [ ] Closing a queue
            - [ ] Opening a queue
            - [ ] Deactivating a queue
            - [ ] Activating a queue
            - [ ] Logging a comment on a queue control command
            - [ ] Configuring dispatch windows
            - [ ] Configuring run windows
            - [ ] Adding a queue
            - [ ] Removing a queue
            - [ ] Restricting which hosts can use queues
            - [ ] Restricting job size requested by parallel jobs in a queue
            - [ ] Adding queue administrators
        - [ ] Change job order within queues
        - [ ] Switch jobs from one queue to another
            - [ ] Switch a single job to a different queue
            - [ ] Switch all jobs to a different queue
            - [ ] Use external job switch controls
                - [ ] Configuration to enable job switch controls
                - [ ] Configuration to modify job switch controls
                - [ ] Command arguments for job switch controls
    - [ ] Application profiles
        - [ ] Manage application profiles
            - [ ] Add an application profile
        - [ ] Submit jobs to application profiles
        - [ ] How application profiles interact with queue and job parameters
            - [ ] Application profile settings that override queue settings
            - [ ] Application profile limits and queue limits
            - [ ] Define application-specific environment variables
            - [ ] Task limits
            - [ ] Absolute run limits
            - [ ] Pre-execution
            - [ ] Post-execution
            - [ ] Rerunnable jobs
            - [ ] Resource requirements
            - [ ] Estimated job run time and runtime limits
- [ ] Plan-based scheduling and reservations
    - [ ] Enabling plan-based scheduling
    - [ ] Plan-based allocations
    - [ ] Plan-based scheduling run time
    - [ ] Plan-based scheduling limits and prioritization
    - [ ] Configuring extendable run limits
    - [ ] Reserving resources for an allocation plan
    - [ ] Canceling planned allocations
    - [ ] Delaying planning for jobs
    - [ ] Limiting the number of planned jobs
    - [ ] Adjusting the plan window
- [ ] Distributing job resources to users in LSF
    - [ ] Configure resource consumers
        - [ ] User groups
            - [ ] User groups in LSF
                - [ ] How to define user groups
                - [ ] Where to configure user groups
                - [ ] Configure user groups
                - [ ] Configure user group administrators
                    - [ ] Configure user group administrator rights
                - [ ] Import external user groups (egroup)
            - [ ] Existing user groups as LSF user groups
            - [ ] External Host and User Groups
                - [ ] About external host and user groups
                - [ ] Configuration to enable external host and user groups
                - [ ] External host and user groups behavior
                - [ ] Between-Host User Account Mapping
                    - [ ] About between-host user account mapping
                    - [ ] Configuration to enable between-host user account mapping
                    - [ ] Between-host user account mapping behavior
                    - [ ] Between-host user account mapping commands
                - [ ] Cross-Cluster User Account Mapping
                    - [ ] About cross-cluster user account mapping
                    - [ ] Configuration to enable cross-cluster user account mapping
                    - [ ] Cross-cluster user account mapping behavior
                    - [ ] Cross-cluster user account mapping commands
                - [ ] UNIX/Windows User Account Mapping
                    - [ ] About UNIX/Windows user account mapping
                    - [ ] Configuration to enable UNIX/Windows user account mapping
                    - [ ] UNIX/Windows user account mapping behavior
                    - [ ] Configuration to modify UNIX/Windows user account mapping behavior
                    - [ ] UNIX/Windows user account mapping commands
            - [ ] Create a user group using bconf
        - [ ] Job groups
            - [ ] Job group limits
            - [ ] Create a job group
            - [ ] Submit jobs under a job group
            - [ ] View information about job groups (bjgroup)
            - [ ] View jobs for a specific job group (bjobs)
            - [ ] Job groups and time-based SLAs
                - [ ] View job groups attached to a time-based SLA (bjgroup)
            - [ ] Control jobs in job groups
                - [ ] Suspend jobs (bstop)
                - [ ] Resume suspended jobs (bresume)
                - [ ] Move jobs to a different job group (bmod)
                - [ ] Terminate jobs (bkill)
                - [ ] Delete a job group manually (bgdel)
                - [ ] Modify a job group limit (bgmod)
            - [ ] Automatic job group cleanup
        - [ ] Host groups
            - [ ] Configure host groups
            - [ ] Wildcards and special characters to define host names
            - [ ] Define condensed host groups
    - [ ] Specifying resource requirements
        - [ ] About resource requirements
        - [ ] Queue-level resource requirements
        - [ ] Job-level resource requirements
        - [ ] Resource requirement strings
            - [ ] Selection string
            - [ ] Order string
            - [ ] Usage string
            - [ ] Span string
            - [ ] Same string
            - [ ] Compute unit string
            - [ ] Affinity string
        - [ ] Specify GPU resource requirements
    - [ ] Reserving resources
        - [ ] About resource reservation
        - [ ] Use resource reservation
            - [ ] Configure resource reservation at the queue level
            - [ ] Specify job-level resource reservation
            - [ ] Configure per-resource reservation
        - [ ] Memory reservation for pending jobs
            - [ ] Reserve host memory for pending jobs
            - [ ] Enable memory reservation for sequential jobs
            - [ ] Configure lsb.queues
            - [ ] Use memory reservation for pending jobs
            - [ ] How memory reservation for pending jobs works
        - [ ] Time-based slot reservation
            - [ ] Configure time-based slot reservation
            - [ ] Assumptions and limitations
            - [ ] Reservation scenarios
            - [ ] Examples
    - [ ] Limiting job resource allocations
        - [ ] How resource allocation limits work
        - [ ] How job limits work
        - [ ] Configuring resource allocation limits
            - [ ] Enable resource allocation limits
            - [ ] Configure cluster-wide limits
            - [ ] Limit conflicts
            - [ ] How resource allocation limits map to pre-version 7 job slot limits
        - [ ] Create a limit using bconf
            - [ ] Update a limit using bconf
    - [ ] Make sure resources are distributed fairly
        - [ ] Runtime resource usage limits
            - [ ] About resource usage limits
            - [ ] Changing the units for resource usage limits
            - [ ] Specify resource usage limits
                - [ ] Default run limits for backfill scheduling
                - [ ] Specify job-level resource usage limits
            - [ ] Resource usage limits syntax
                - [ ] CPU time limit
                    - [ ] Normalized CPU time
                - [ ] Data segment size limit
                - [ ] File size limit
                - [ ] Memory limit
                    - [ ] Memory limit enforcement
                    - [ ] Smart memory limit enforcement
                    - [ ] OS memory limit enforcement
                - [ ] Process limit
                - [ ] Runtime limit
                    - [ ] Normalized run time
                    - [ ] LSF multicluster capability runtime limit
                - [ ] Thread limit
                - [ ] Stack limit
                - [ ] Swap limit
            - [ ] Examples
            - [ ] CPU time and run time normalization
            - [ ] Memory and swap limit enforcement based on Linux cgroups
            - [ ] PAM resource limits
                - [ ] Configure a PAM file
        - [ ] Load thresholds
            - [ ] Automatic job suspension
            - [ ] Suspending conditions
                - [ ] Configure suspending conditions at queue level
                - [ ] About resuming suspended jobs
                - [ ] Specify resume condition
        - [ ] Time configuration
            - [ ] Time windows
            - [ ] Time expressions
            - [ ] Automatic time-based configuration
            - [ ] Dispatch and run windows
                - [ ] Run windows
                    - [ ] Configure run windows
                    - [ ] View information about run windows
                - [ ] Dispatch windows
                    - [ ] Configure host dispatch windows
                    - [ ] Configure queue dispatch windows
                    - [ ] Display host dispatch windows
                    - [ ] Display queue dispatch windows
            - [ ] Deadline constraint scheduling
                - [ ] Disable deadline constraint scheduling
    - [ ] Preemptive scheduling
        - [ ] Resource Preemption
            - [ ] About resource preemption
            - [ ] Requirements for resource preemption
            - [ ] Custom job controls for resource preemption
            - [ ] Resource preemption steps
            - [ ] Configure resource preemption
            - [ ] Memory preemption
        - [ ] About preemptive scheduling
        - [ ] Configuration to enable preemptive scheduling
        - [ ] Preemptive scheduling behavior
        - [ ] Configuration to modify preemptive scheduling behavior
        - [ ] Preemptive scheduling commands
    - [ ] Goal-oriented SLA-driven scheduling
        - [ ] Using goal-oriented SLA scheduling
        - [ ] Configuring service classes for SLA scheduling
        - [ ] Configure service classes using bconf
        - [ ] Time-based service classes
            - [ ] Configure time-based service classes
            - [ ] Time-based SLA examples
            - [ ] SLA CONTROL_ACTION parameter (lsb.serviceclasses)
        - [ ] Submit jobs to a service class
            - [ ] Modify SLA jobs (bmod)
- [ ] Global resources
    - [ ] Global resource collection
    - [ ] Configuring
    - [ ] Using


##  GPU 资源
- [ ] 启用 GPU 特性
    - [ ] GPU 自动配置
    - [ ] 启用作业使用 GPU 资源
    - [ ] 优化 GPU 资源度量采集
    - [ ] Nvidia 数据中心 GPU 管理器 (Nvidia Data Center GPU Manager，DCGM) 的特性
    - [ ] 强制 GPU 访问
    - [ ] 当 GPU 不使用时，降低 GPU 功耗
    - [ ] Nvidia 多实例 GPU (MIG) 特性
- [ ] 监控 GPU 资源
    - [ ] 使用 lsload 命令监控 GPU 资源
    - [ ] 使用 lshosts 命令监控 GPU 资源
- [ ] 提交和监控 GPU 任务
    - [ ] 配置 GPU 资源需求
    - [ ] 提交需要 GPU 资源的作业
    - [ ] 监控 GPU 作业
    - [ ] GPU 作业提交的示例 
- [ ] 使用 ELIM 的 GPU 特性
    - [ ] 手动配置和使用 GPU 资源(遗留的 ELIM 过程)
    - [ ] 控制 GPU 自动提升

## 配置容器
- [ ] LSF 与 Docker
    - [ ] 准备 LSF 运行 Docker 作业
    - [ ] 配置 LSF 运行 Docker 作业
    - [ ] 配置 LSF 运行 NVIDIA Docker 作业
    - [ ] 提交 Docker 作业
    - [ ] 提交 NVIDIA Docker 作业
- [ ] LSF 与 Shifter
    - [ ] 配置 LSF 运行 Shifter 作业
    - [ ] 提交 Shifter 作业
- [ ] LSF 与 Singularity
    - [ ] 配置 LSF 运行 Singularity 作业
    - [ ] 向 LSF 提交 Singularity 作业
- [ ] LSF 与 Podman
    - [ ] 准备 LSF 运行 Podman 作业
    - [ ] 配置 LSF 在 Podman 容器中运行作业
    - [ ] 提交 Podman 作业
- [ ] LSF 与 Enroot
    - [ ] 配置 LSF 在 Enroot 容器中运行作业
    - [ ] 提交 Enroot 作业


## 高吞吐量工作负载管理
- [ ] Job packs
- [ ] Job arrays
    - [ ] Create a job array
    - [ ] Handle input and output files
        - [ ] Prepare input files
    - [ ] Pass arguments on the command line
    - [ ] Set a whole array dependency
    - [ ] Control job arrays
    - [ ] Requeue jobs in DONE state
    - [ ] Job array job slot limit
        - [ ] Set a job array slot limit at submission
- [ ] Fairshare scheduling
    - [ ] Understand fairshare scheduling
    - [ ] Ways to configure fairshare
        - [ ] Chargeback fairshare
            - [ ] Configure chargeback fairshare
        - [ ] Equal share
            - [ ] Configure equal share
        - [ ] Priority user and static priority fairshare
            - [ ] Configure priority user fairshare
            - [ ] Configure static priority fairshare
        - [ ] Host partition fairshare
            - [ ] Configure host partition fairshare
        - [ ] GPU run time fairshare
            - [ ] Configure GPU run time
    - [ ] User-based fairshare
        - [ ] Configure hierarchical fairshare
        - [ ] Configure a share tree
        - [ ] User share assignments
        - [ ] Dynamic user priority
    - [ ] Use time decay and committed run time
        - [ ] Historical run time decay
            - [ ] Configure historical run time
            - [ ] How mbatchd reconfiguration and restart affects historical run time
        - [ ] Run time decay
            - [ ] Configure run time decay
        - [ ] Committed run time weighting factor
            - [ ] Configure committed run time
    - [ ] How fairshare affects job dispatch order
    - [ ] Host partition user-based fairshare
        - [ ] Configure host partition fairshare scheduling
    - [ ] Queue-level user-based fairshare
        - [ ] Configure queue-level fairshare
        - [ ] Cross-queue user-based fairshare
            - [ ] Configure cross-queue fairshare
            - [ ] Control job dispatch order in cross-queue fairshare
    - [ ] Queue-based fairshare
    - [ ] Slot allocation per queue
        - [ ] Configure slot allocation per queue
        - [ ] Typical slot allocation scenarios
    - [ ] Users affected by multiple fairshare policies
        - [ ] Submit a job and specify a user group
    - [ ] Resizable jobs and fairshare
- [ ] Guaranteed resource pools
    - [ ] About guaranteed resources
    - [ ] Configuration overview of guaranteed resource pools
    - [ ] Submitting jobs to use guarantees
    - [ ] Package guarantees
    - [ ] Add consumers to a guaranteed resource pool
- [ ] Reserving memory and license resources
    - [ ] Memory reservation for pending jobs
        - [ ] Reserve host memory for pending jobs
        - [ ] Enable memory reservation for sequential jobs
        - [ ] Configure lsb.queues
        - [ ] Use memory reservation for pending jobs
        - [ ] How memory reservation for pending jobs works
    - [ ] Reserving license resources

## 并行工作负载管理
- [ ] Running parallel jobs
    - [ ] How LSF runs parallel jobs
    - [ ] Preparing your environment to submit parallel jobs to LSF
        - [ ] Use a job starter
    - [ ] Submit a parallel job
    - [ ] Start parallel tasks with LSF utilities
    - [ ] Job slot limits for parallel jobs
    - [ ] Specify a minimum and maximum number of tasks
    - [ ] Restrict job size requested by parallel jobs
    - [ ] About specifying a first execution host
        - [ ] Specify a first execution host
            - [ ] Rules
    - [ ] Compute units
        - [ ] Control job locality using compute units
        - [ ] Configure compute units
        - [ ] Use wildcards and special characters to define names in compute units
        - [ ] Define condensed compute units
        - [ ] Import external host groups (egroup)
        - [ ] Use compute units with advance reservation
    - [ ] Control processor allocation across hosts
    - [ ] Run parallel processes on homogeneous hosts
    - [ ] Limit the number of processors allocated
    - [ ] Limit the number of allocated hosts
    - [ ] Reserve processors
        - [ ] Configure processor reservation
    - [ ] Reserve memory for pending parallel jobs
        - [ ] Configure memory reservation for pending parallel jobs
        - [ ] Enable per-task memory reservation
    - [ ] Backfill scheduling
        - [ ] Configure a backfill queue
        - [ ] Enforce run limits
        - [ ] Use backfill on memory
        - [ ] Use interruptible backfill
            - [ ] Configure an interruptible backfill queue
        - [ ] Submit backfill jobs according to available slots
    - [ ] How deadline constraint scheduling works for parallel jobs
    - [ ] Optimized preemption of parallel jobs
        - [ ] Configure optimized preemption
    - [ ] Controlling CPU and memory affinity
        - [ ] Submit affinity jobs
            - [ ] Submit affinity jobs for IBM POWER8 systems
        - [ ] Managing jobs with affinity resource requirements
        - [ ] Affinity preemption
        - [ ] Affinity binding based on Linux cgroup cpuset subsystem
        - [ ] Portable hardware locality
    - [ ] Processor binding for LSF job processes
        - [ ] Enabling processor binding for LSF job processes
        - [ ] Processor binding for parallel jobs
    - [ ] Running parallel jobs with blaunch
        - [ ] blaunch distributed application framework
        - [ ] SGI vendor MPI support
        - [ ] Running jobs with task geometry
        - [ ] Enforcing resource usage limits for parallel tasks
    - [ ] Running MPI workload through IBM Parallel Environment Runtime Edition
        - [ ] Enabling IBM PE Runtime Edition for LSF
        - [ ] Network-aware scheduling
        - [ ] Submitting IBM Parallel Environment jobs through LSF
        - [ ] Managing IBM Parallel Environment jobs through LSF
- [ ] Advance reservation
    - [ ] Types of advance reservations
    - [ ] Enable advance reservation
    - [ ] Allow users to create advance reservations
    - [ ] Use advance reservation
        - [ ] Adding reservations
        - [ ] Changing reservations
        - [ ] Removing reservations
        - [ ] Viewing reservations
        - [ ] Submitting and modifying jobs that use advance reservations
        - [ ] View jobs that are associated with an advance reservation
        - [ ] Advance reservation behavior and operations
- [ ] Fairshare scheduling
    - [ ] Understand fairshare scheduling
    - [ ] Parallel fairshare
        - [ ] Configure parallel fairshare
    - [ ] User share assignments
    - [ ] Dynamic user priority
    - [ ] Use time decay and committed run time
        - [ ] Historical run time decay
            - [ ] Configure historical run time
            - [ ] How mbatchd reconfiguration and restart affects historical run time
        - [ ] Run time decay
            - [ ] Configure run time decay
        - [ ] Committed run time weighting factor
            - [ ] Configure committed run time
    - [ ] How fairshare affects job dispatch order
    - [ ] Host partition user-based fairshare
        - [ ] Configure host partition fairshare scheduling
    - [ ] Queue-level user-based fairshare
        - [ ] Configure queue-level fairshare
    - [ ] Cross-queue user-based fairshare
        - [ ] Configure cross-queue fairshare
        - [ ] Control job dispatch order in cross-queue fairshare
    - [ ] User-based fairshare
        - [ ] Configure hierarchical fairshare
        - [ ] Configure a share tree
    - [ ] Queue-based fairshare
    - [ ] Slot allocation per queue
        - [ ] Configure slot allocation per queue
    - [ ] Typical slot allocation scenarios
    - [ ] Users affected by multiple fairshare policies
        - [ ] Submit a job and specify a user group
    - [ ] Ways to configure fairshare
        - [ ] Host partition fairshare
            - [ ] Configure host partition fairshare
        - [ ] Chargeback fairshare
            - [ ] Configure chargeback fairshare
        - [ ] Equal share
            - [ ] Configure equal share
        - [ ] Priority user and static priority fairshare
            - [ ] Configure priority user fairshare
            - [ ] Configure static priority fairshare
        - [ ] GPU run time fairshare
            - [ ] Configure GPU run time
    - [ ] Resizable jobs and fairshare
    - [ ] Job count based fairshare
- [ ] Job checkpoint and restart
    - [ ] About job checkpoint and restart
    - [ ] Configuration to enable job checkpoint and restart
    - [ ] Job checkpoint and restart behavior
    - [ ] Configuration to modify job checkpoint and restart
    - [ ] Job checkpoint and restart commands
- [ ] Job migration for checkpointable and rerunnable jobs
    - [ ] Job migration behavior
    - [ ] Configuration to enable job migration
    - [ ] Configuration to modify job migration
    - [ ] Job migration commands
- [ ] Resizable jobs
    - [ ] Resizable job behavior
    - [ ] Configuration to enable resizable jobs
    - [ ] Resizable job commands
    - [ ] Resizable job management
        - [ ] Submit a resizable job
        - [ ] Check pending resize requests
        - [ ] Cancel an active pending request
    - [ ] Specify a resize notification command manually
    - [ ] Script for resizing
    - [ ] How resizable jobs work with other LSF features

## LSF 的安全性
- [ ] 安全性考虑
    - [ ] 守护进程和命令之间的通信
    - [ ] 用于远程执行的 IBM Spectrum LSF 命令的传输
    - [ ] 访问属于其他用户的作业
    - [ ] 访问远程主机
    - [ ] 错误请求
    - [ ] 认证
- [ ] 保护您的 LSF 集群
    - [ ] 守护进程和命令之间的安全通信
    - [ ] 加密传输 LSF 命令，方便远程执行和登录
    - [ ] 限制用户访问远程主机
    - [ ] 保护您的集群不受错误请求的影响
    - [ ] 自定义外部认证
    - [ ] 启用 LSF 守护进程的外部认证
    - [ ] 保护集群不允许在伪终端中，用 root 访问批量交互作业
    - [ ] 限制用户对管理命令和日志文件的访问
    - [ ] 作业信息访问控制
        - [ ] 设置作业信息访问控制
    - [ ] 保护 lsf.conf 文件，防止用户更改作业用户
    - [ ] 临时启用 root 权限
    - [ ] 查看集群安全设置

## 高级配置
- [ ] Error and event logging
    - [ ] System directories and log files
        - [ ] About LSF log files
        - [ ] Log levels and descriptions
    - [ ] Manage error logs
        - [ ] Set the log files owner
        - [ ] View the number of file descriptors remaining
        - [ ] Locate error logs
    - [ ] System event log
    - [ ] Duplicate logging of event logs
        - [ ] Configure duplicate logging
    - [ ] Set daemon message log to debug level
    - [ ] Set daemon timing levels
    - [ ] LSF job termination reason logging
        - [ ] View logged job exit information (bacct -l)
        - [ ] View recent job exit information (bjobs -l)
        - [ ] Termination reasons
    - [ ] LSF job exit codes
- [ ] Event generation
    - [ ] Event generation
        - [ ] Enable event generation for custom programs
    - [ ] Events list
    - [ ] Arguments passed to the LSF event program
- [ ] Customize batch command messages
- [ ] How LIM determines host models and types
    - [ ] Automatically detect operating system types and versions
    - [ ] Add a custom host type or model
    - [ ] Automatic detection of hardware reconfiguration
        - [ ] Set the external static LIM
- [ ] Shared file access
    - [ ] Shared files on Windows
    - [ ] Use LSF with non-shared file systems
- [ ] Shared configuration file content
- [ ] Authentication and authorization
    - [ ] Change authentication method
    - [ ] Authentication options
    - [ ] Operating system authorization
    - [ ] LSF authorization
    - [ ] Authorization failure
    - [ ] External authentication
        - [ ] External authentication with LSF (eauth)
        - [ ] Configuration to enable external authentication
        - [ ] External authentication behavior
        - [ ] Configuration to modify external authentication
        - [ ] External authentication commands
    - [ ] Kerberos authentication
        - [ ] Kerberos authentication with LSF
        - [ ] Configuration to enable Kerberos authentication
        - [ ] Configuration to modify Kerberos authentication
        - [ ] Kerberos authentication commands
- [ ] Handle job exceptions
    - [ ] Email job exception details
    - [ ] Default eadmin actions
    - [ ] Handle job initialization failures
    - [ ] Handle host-level job exceptions
    - [ ] Handle job exceptions in queues
    - [ ] Understand successful application exit values
        - [ ] Specify successful application exit values
- [ ] Tune CPU factors
    - [ ] View normalized ratings
    - [ ] Tune CPU factors
- [ ] Set clean period for DONE jobs
- [ ] Enable host-based resources
    - [ ] Portable hardware locality
    - [ ] Define GPU resources
    - [ ] Define Intel Xeon Phi resources
- [ ] Global fairshare scheduling
    - [ ] Global fairshare background
    - [ ] Remote fairshare load
    - [ ] Sync mode of global fairshare policy
    - [ ] Global fairshare setup and configuration
    - [ ] Global policy daemon
    - [ ] Global fairshare policy
    - [ ] Global fairshare dynamic user priority
    - [ ] Share load synchronization rules
    - [ ] Configure queue level user-based global fairshare
    - [ ] Configure cross-queue user-based global fairshare
    - [ ] Global fairshare scheduling constraints
- [ ] Manage LSF on EGO
    - [ ] About LSF on EGO
    - [ ] LSF and EGO directory structure
    - [ ] Configure LSF and EGO
        - [ ] LSF and EGO corresponding parameters
        - [ ] Parameters that have changed in LSF 10
        - [ ] Special resource groups for LSF management hosts
        - [ ] Manage LSF daemons through EGO
            - [ ] Bypass EGO login at startup (lsf.sudoers)
        - [ ] Set the command-line environment
    - [ ] LSF features on EGO
        - [ ] Supported LSF features with EGO-enabled SLA scheduling
        - [ ] LSF features that require modification to work with EGO-enabled SLA scheduling
        - [ ] Unsupported LSF features with EGO-enabled SLA scheduling
    - [ ] Logging and troubleshooting
        - [ ] EGO log files
        - [ ] Troubleshooting using multiple EGO log files
    - [ ] Frequently asked questions
- [ ] Load sharing X applications
    - [ ] Start an xterm
    - [ ] xterm on a PC
    - [ ] Set up Exceed to log on the least loaded host
    - [ ] Start an xterm in Exceed
    - [ ] Examples
- [ ] Using LSF with the Etnus TotalView Debugger
    - [ ] How IBM Spectrum LSF Works with TotalView
    - [ ] Running jobs for TotalView debugging
    - [ ] Controlling and monitoring jobs being debugged in TotalView
- [ ] Register LSF host names and IP addresses to LSF servers

## 性能调优
- [ ] 调优您的集群
    - [ ] LIM 调优
        - [ ] 负载阈值
            - [ ] 比较 LIM 负载阈值
            - [ ] LIM 报告主机繁忙
            - [ ] 互动作业
            - [ ] 多处理器系统
        - [ ] LSF 如何使用 LSF_MASTER_LIST
        - [ ] 使用 DNS 主机缓存提升集群启动性能
    - [ ] 优化 mbatchd 重启后的响应时间
    - [ ] 优化 mbatchd 查询性能
        - [ ] 配置 mbatchd 使用多线程
            - [ ] 多线程批量查询
            - [ ] 为 mbatchd 设置专用查询端口
            - [ ] 指定子 mbatchd 的过期时间
            - [ ] 配置 mbatchd 将新的作业信息推送到子 mbatchd
        - [ ] 指定硬性的 CPU 亲和性
    - [ ] 记录 mbatchd 性能指标
    - [ ] 记录 mbatchd 和 mbatchd 分析信息
    - [ ] 提高 mbatchd 对作业阵列切换事件的性能
    - [ ] 增加队列响应能力
    - [ ] 自动绑定 LSF 守护进程到指定的 CPU 核
    - [ ] 使用 LSF Explorer 提升 bacct 和 bhist 命令的性能，或者检索额外的数据
    - [ ] 通过在作业中避免运行 bwait 来提高槽位利用率
- [ ] 实现性能和可扩展性
    - [ ] 优化大站点的性能
    - [ ] 为大型集群优化 UNIX
        - [ ] 增加文件描述符限制
    - [ ] 调整大型集群的 LSF
        - [ ] 管理调度性能
            - [ ] 启用快速调度
            - [ ] 启用连续调度
            - [ ] 使用调度器的线程，来评估资源需求匹配
            - [ ] 限制作业依赖评估
        - [ ] 限制批量查询的数量
        - [ ] 提高主机状态更新速度
        - [ ] 限制用户在队列中移动作业的能力
        - [ ] 管理排队原因的数量
        - [ ] 实现高效的事件切换
        - [ ] 自动加载更新
        - [ ] 管理 info 目录的 I/O 性能
        - [ ] 作业 ID 限制


## 能源感知调度
- [ ] 管理主机电源状态
    - [ ] 配置主机电源状态管理
        - [ ] lbs.params 中的电源参数
        - [ ] lbs.resources 中的 PowerPolicy 部分
    - [ ] 控制和监控主机电源状态管理
    - [ ] 省电模式的有效主机状态
    - [ ] 关闭电源操作功能
    - [ ] 变更 lsf.shared/lsf.cluster
    - [ ] 与提前预留集成
    - [ ] 与供应系统集成
- [ ] CPU 频率管理
    - [ ] 配置 CPU 频率管理
    - [ ] 指定作业的 CPU 频率管理
    - [ ] 作业能耗报告
    - [ ] 作业总结邮件中的资源使用情况
- [ ] 自动选择 CPU 频率
    - [ ] 前提条件
        - [ ] 配置 MySQL 数据库
    - [ ] 配置 CPU 自动选频
        - [ ] 安装和配置基准测试程序
        - [ ] 检查计算节点性能
        - [ ] 计算系数数据
    - [ ] 创建能源策略标签
        - [ ] 能源策略标签格式
        - [ ] 生成一个能源策略标签
        - [ ] 开启 CPU 自动选频功能

## LSF 的多集群能力
- [ ] LSF 多集群能力概述
    - [ ] IBM Spectrum LSF 多集群能力的好处
    - [ ] 两种平台多集群模型
- [ ] 设置 LSF 多集群能力
    - [ ] 设置概述
        - [ ] 系统需求
        - [ ] 安装和配置过程
        - [ ] 安装平台多集群
        - [ ] 设置公共端口
    - [ ] 非统一的命名空间
        - [ ] 用户级帐户映射
    - [ ] 远程集群感知受限
        - [ ] 添加或修改 RemoteClusters 列表
    - [ ] 守护进程通信安全
    - [ ] 集群间认证
    - [ ] 多集群作业的资源使用情况更新
    - [ ] 作业资源分配的全局限制
        - [ ] 配置全局限制
        - [ ] 查看全局限制
    - [ ] 多集群信息缓存
- [ ] 作业转发模式
    - [ ] 作业转发模式概述
    - [ ] 作业转发模式下的任务调度
    - [ ] 作业转发模式下的队列调度参数
    - [ ] 跨集群提前预订
    - [ ] 作业转发模式下的特殊考虑
        - [ ] 作业迁移
        - [ ] 检查 (Checkpoint) MultiCluster 作业
        - [ ] 绝对优先级调度
        - [ ] 严格的资源要求选择字符串语法
        - [ ] 计算单元需求字符串
    - [ ] 多集群队列
        - [ ] 启用多集群队列
    - [ ] 仅支持远程的队列
        - [ ] 配置仅支持远程的队列
    - [ ] 请求指定的集群
    - [ ] 远程集群等效性
    - [ ] 远程资源
    - [ ] 远程队列工作负载作业转发调度器
        - [ ] 启用队列优先级
            - [ ] 配置队列优先级
        - [ ] 启用作业槽位限制
            - [ ] 配置排队作业的槽位限制
    - [ ] 执行前重试阈值
    - [ ] 重试阈值并暂停通知
    - [ ] 排队多集群作业的限制
    - [ ] 更新多集群作业的排队原因
        - [ ] 配置排队原因更新间隔
        - [ ] 配置排队原因更新包大小
    - [ ] 远程超时限制
    - [ ] 启用多集群作业转发模式下的作业优先级
        - [ ] 指定作业优先级 (bsub -sp)
        - [ ] 配置最大作业优先级
    - [ ] 加强公平分配计算，来包括作业转发模式
- [ ] 资源租赁模式
    - [ ] 租赁模式概述
    - [ ] 采用租赁模式
    - [ ] 资源租赁模式下的特殊考虑
    - [ ] 资源导出
    - [ ] 创建导出策略
    - [ ] 导出工作站
        - [ ] 自动选择主机的分配策略
    - [ ] 导出特殊主机
        - [ ] 命名主机的分发策略
    - [ ] 导出其他资源
    - [ ] 导出共享资源
    - [ ] 共享租赁
        - [ ] 开启共享租赁功能
    - [ ] 借用资源
    - [ ] 并行作业和租赁模式





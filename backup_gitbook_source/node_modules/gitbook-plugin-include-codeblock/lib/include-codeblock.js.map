{"version":3,"sources":["../src/include-codeblock.js"],"names":["path","require","module","exports","hooks","page","options","pluginsConfig","pageDir","dirname","rawPath","results","content","forEach","target","result","replaced","replace"],"mappings":"AAAA;AACA;;AAEA;;AACA;;AAFA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;;AAIA;;AAEAC,OAAOC,OAAP,GAAiB;AACbC,WAAO;AACH,uBAAe,oBAASC,IAAT,EAAe;AAC1B,gBAAIC,UAAU,KAAKA,OAAL,CAAaC,aAAb,CAA2B,mBAA3B,CAAd;AACA,gBAAIC,UAAUR,KAAKS,OAAL,CAAaJ,KAAKK,OAAlB,CAAd;AACA,gBAAIC,UAAU,mBAAMN,KAAKO,OAAX,EAAoBJ,OAApB,EAA6BF,OAA7B,CAAd;AACAK,oBAAQE,OAAR,CAAgB,kBAAU;AAAA,oBAChBC,MADgB,GACKC,MADL,CAChBD,MADgB;AAAA,oBACRE,QADQ,GACKD,MADL,CACRC,QADQ;;AAEtBX,qBAAKO,OAAL,GAAeP,KAAKO,OAAL,CAAaK,OAAb,CAAqBH,MAArB,EAA6BE,QAA7B,CAAf;AACH,aAHD;AAIA,mBAAOX,IAAP;AACH;AAVE;AADM,CAAjB","file":"include-codeblock.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nvar path = require(\"path\");\nimport { parse } from \"./parser\";\nimport { aceCheck } from \"./ace-check\";\n\naceCheck();\n\nmodule.exports = {\n    hooks: {\n        \"page:before\": function(page) {\n            var options = this.options.pluginsConfig[\"include-codeblock\"];\n            var pageDir = path.dirname(page.rawPath);\n            var results = parse(page.content, pageDir, options);\n            results.forEach(result => {\n                var { target, replaced } = result;\n                page.content = page.content.replace(target, replaced);\n            });\n            return page;\n        }\n    }\n};\n"]}